# Konductor direnv configuration
# Uses nix-direnv for flake integration with caching
#
# Stack: nix (devshell) + direnv (.envrc) + runme (tasks) + .env (config)

# Only load flake if not already in a konductor devshell (prevents double-load from runme)
if [[ -z "${KONDUCTOR_SHELL:-}" ]]; then
  use flake .#full
fi

# Add project bin wrappers to PATH
PATH_add .config/bin

# Load .env for QCOW2 build config and other project variables
dotenv_if_exists .env
